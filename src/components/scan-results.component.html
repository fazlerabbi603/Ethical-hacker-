
<div class="flex items-start gap-4 py-4" [class]="message().role === 'user' ? 'justify-end' : 'justify-start'">

  <!-- Model Icon -->
  @if (message().role === 'model') {
    <div class="flex-shrink-0 w-10 h-10 rounded-full bg-green-800 flex items-center justify-center border-2 border-green-500">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-green-300" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
      </svg>
    </div>
  }

  <!-- Message Bubble -->
  <div class="max-w-xl lg:max-w-2xl px-5 py-3 rounded-2xl shadow-md" [class]="message().role === 'user' ? 'bg-blue-600 text-white rounded-br-none' : 'bg-gray-700 text-gray-200 rounded-bl-none'">
    <p class="whitespace-pre-wrap leading-relaxed">{{ message().content }}</p>
  </div>

  <!-- User Icon -->
  @if (message().role === 'user') {
    <div class="flex-shrink-0 w-10 h-10 rounded-full bg-gray-800 flex items-center justify-center border-2 border-gray-500">
       <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-gray-300" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
      </svg>
    </div>
  }

</div>
